namespace SpriteKind {
    export const Film = SpriteKind.create()
    export const UI = SpriteKind.create()
}
// interaction between patrolling enemies and players 
// 
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    info.changeLifeBy(-1)
    Spr_Pat.vy = 0
    pause(2000)
    Spr_Pat.vy = 50
})
// resets movement once picture is taken
controller.A.onEvent(ControllerButtonEvent.Released, function () {
    controller.moveSprite(Spr_Player, 100, 100)
})
// Interaction that allows player to pick up film
sprites.onOverlap(SpriteKind.Player, SpriteKind.Film, function (sprite, otherSprite) {
    info.changeScoreBy(1)
    sprites.destroy(Spr_Film)
})
// Left camera shot
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    if (controller.A.isPressed()) {
        if (info.score() > 0) {
            controller.moveSprite(Spr_Player, 0, 0)
            projectile = sprites.createProjectileFromSprite(img`
                ........111.....................
                .......11111....................
                ......11111111..................
                ......111111111.................
                .....111111111111...............
                ....11111111111111..............
                ...11111111111111111............
                ...111111111111111111...........
                ..111111111111111111111.........
                ..1111111111111111111111........
                .111111111111111111111111.......
                .1111111111111111111111111......
                .11111111111111111111111111.....
                1111111111111111111111111111....
                1111111111111111111111111111....
                1111111111111111111111111111....
                1111111111111111111111111111....
                1111111111111111111111111111....
                1111111111111111111111111111....
                .11111111111111111111111111.....
                .1111111111111111111111111......
                .111111111111111111111111.......
                ..1111111111111111111111........
                ..111111111111111111111.........
                ...111111111111111111...........
                ...11111111111111111............
                ....11111111111111..............
                .....111111111111...............
                ......111111111.................
                ......11111111..................
                .......11111....................
                ........111.....................
                `, Spr_Player, -200, 0)
            info.changeScoreBy(-1)
            pause(100)
            sprites.destroy(projectile)
        }
    }
})
// right camera shot
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    if (controller.A.isPressed()) {
        if (info.score() > 0) {
            controller.moveSprite(Spr_Player, 0, 0)
            projectile = sprites.createProjectileFromSprite(img`
                .....................111........
                ....................11111.......
                ..................11111111......
                .................111111111......
                ...............111111111111.....
                ..............11111111111111....
                ............11111111111111111...
                ...........111111111111111111...
                .........111111111111111111111..
                ........1111111111111111111111..
                .......111111111111111111111111.
                ......1111111111111111111111111.
                .....11111111111111111111111111.
                ....1111111111111111111111111111
                ....1111111111111111111111111111
                ....1111111111111111111111111111
                ....1111111111111111111111111111
                ....1111111111111111111111111111
                ....1111111111111111111111111111
                .....11111111111111111111111111.
                ......1111111111111111111111111.
                .......111111111111111111111111.
                ........1111111111111111111111..
                .........111111111111111111111..
                ...........111111111111111111...
                ............11111111111111111...
                ..............11111111111111....
                ...............111111111111.....
                .................111111111......
                ..................11111111......
                ....................11111.......
                .....................111........
                `, Spr_Player, 200, 0)
            info.changeScoreBy(-1)
            pause(100)
            sprites.destroy(projectile)
        }
    }
})
// Upwards Camera Shot
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    if (controller.A.isPressed()) {
        if (info.score() > 0) {
            controller.moveSprite(Spr_Player, 0, 0)
            projectile = sprites.createProjectileFromSprite(img`
                .............111111.............
                ..........111111111111..........
                ........1111111111111111........
                ......11111111111111111111......
                .....1111111111111111111111.....
                ....111111111111111111111111....
                ..1111111111111111111111111111..
                .111111111111111111111111111111.
                11111111111111111111111111111111
                11111111111111111111111111111111
                11111111111111111111111111111111
                .111111111111111111111111111111.
                ..1111111111111111111111111111..
                ..1111111111111111111111111111..
                ...11111111111111111111111111...
                ....111111111111111111111111....
                ....111111111111111111111111....
                .....1111111111111111111111.....
                ......11111111111111111111......
                ......11111111111111111111......
                .......111111111111111111.......
                ........1111111111111111........
                ........1111111111111111........
                .........11111111111111.........
                ..........111111111111..........
                ...........1111111111...........
                ............11111111............
                .............111111.............
                ................................
                ................................
                ................................
                ................................
                `, Spr_Player, 0, -200)
            info.changeScoreBy(-1)
            pause(100)
            sprites.destroy(projectile)
        }
    }
})
// Downwards Camera Shot
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    if (controller.A.isPressed()) {
        if (info.score() > 0) {
            controller.moveSprite(Spr_Player, 0, 0)
            projectile = sprites.createProjectileFromSprite(img`
                ................................
                ................................
                ................................
                ................................
                .............111111.............
                ............11111111............
                ...........1111111111...........
                ..........111111111111..........
                .........11111111111111.........
                ........1111111111111111........
                ........1111111111111111........
                .......111111111111111111.......
                ......11111111111111111111......
                ......11111111111111111111......
                .....1111111111111111111111.....
                ....111111111111111111111111....
                ....111111111111111111111111....
                ...11111111111111111111111111...
                ..1111111111111111111111111111..
                ..1111111111111111111111111111..
                .111111111111111111111111111111.
                11111111111111111111111111111111
                11111111111111111111111111111111
                11111111111111111111111111111111
                .111111111111111111111111111111.
                ..1111111111111111111111111111..
                ....111111111111111111111111....
                .....1111111111111111111111.....
                ......11111111111111111111......
                ........1111111111111111........
                ..........111111111111..........
                .............111111.............
                `, Spr_Player, 0, 200)
            info.changeScoreBy(-1)
            pause(100)
            sprites.destroy(projectile)
        }
    }
})
// interaction between patrolling enemies and camera flash
// 
// 
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Enemy, function (sprite, otherSprite) {
    Spr_Pat.vy = 0
    pause(3000)
    Spr_Pat.vy = 50
})
let projectile: Sprite = null
let Spr_Pat: Sprite = null
let Spr_Film: Sprite = null
let Spr_Player: Sprite = null
tiles.setCurrentTilemap(tilemap`level2`)
info.setScore(5)
info.setLife(3)
Spr_Player = sprites.create(img`
    . . . . 8 8 8 8 8 8 8 . . . . . 
    . . 8 8 8 8 8 8 8 8 8 8 8 . . . 
    . 8 8 8 8 8 8 8 8 8 8 8 8 8 . . 
    . 8 8 8 8 8 8 8 8 8 8 8 8 8 . . 
    8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 . 
    8 8 8 8 8 8 8 8 8 8 8 8 1 1 8 . 
    8 1 1 8 8 8 8 8 8 8 8 8 8 8 8 . 
    8 1 1 8 8 8 8 8 8 8 8 8 8 8 8 . 
    8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 . 
    8 8 8 1 1 1 1 1 1 1 1 1 8 8 8 . 
    8 8 8 8 8 8 1 8 8 8 8 8 8 8 8 . 
    . 8 8 8 8 8 1 8 8 8 8 8 8 8 . . 
    . 8 8 8 8 8 8 8 8 8 8 8 8 8 . . 
    . . 8 8 8 8 8 8 8 8 8 8 8 . . . 
    . . . . 8 8 8 8 8 8 8 . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
scene.cameraFollowSprite(Spr_Player)
controller.moveSprite(Spr_Player, 100, 100)
tiles.placeOnTile(Spr_Player, tiles.getTileLocation(2, 2))
music.play(music.createSong(assets.song`Tip Toe`), music.PlaybackMode.LoopingInBackground)
Spr_Film = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . f f f f f f f . . . . . 
    . . . f b b b b b b b f . . . . 
    . . f b b b b . b b b b f . . . 
    . f b b . b b b b b . b b f . . 
    . f b b b b b b b b b b b f . . 
    . f b b b b b b b b b b b f . . 
    . f b . b b b b b b b . b f . . 
    . f b b b b b b b b b b b f . . 
    . f b b b b b b b b b b b f . . 
    . f b b . b b b b b . b b f . . 
    . . f b b b b . b b b b f . . . 
    . . . f b b b b b b b f . . . . 
    . . . . f f f f f f f . . . . . 
    . . . . . . . . . f . . . . . . 
    . . . . . . . . . . f . . . . . 
    `, SpriteKind.Film)
tiles.placeOnTile(Spr_Film, tiles.getTileLocation(20, 2))
Spr_Pat = sprites.create(img`
    . . f f f f f f f f f . . . . . 
    . f f f f f f f f f f f f . . . 
    f f f f f f f f f f f f f f . . 
    f f f f f f f f f f f f f f . . 
    f f f f f f f f f f f f f f f f 
    2 2 1 1 2 2 2 2 2 2 2 1 1 2 2 . 
    2 2 2 2 1 2 2 2 2 2 1 2 2 2 2 . 
    2 2 1 1 2 1 2 2 2 1 2 1 1 2 2 . 
    2 2 1 1 2 2 2 2 2 2 2 1 1 2 2 . 
    2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . 
    2 2 2 2 2 1 1 1 1 1 2 2 2 2 2 . 
    . 2 2 2 1 2 2 2 2 2 1 2 2 2 . . 
    . 2 2 2 2 2 2 2 2 2 2 2 2 2 . . 
    . . 2 2 2 2 2 2 2 2 2 2 2 . . . 
    . . . . 2 2 2 2 2 2 2 . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Enemy)
tiles.placeOnTile(Spr_Pat, tiles.getTileLocation(14, 4))
Spr_Pat.vy = 50
Spr_Pat.setBounceOnWall(true)
