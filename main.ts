namespace SpriteKind {
    export const Film = SpriteKind.create()
    export const UI = SpriteKind.create()
    export const Bananna = SpriteKind.create()
    export const Enemy2 = SpriteKind.create()
    export const Dialogue = SpriteKind.create()
    export const Drone = SpriteKind.create()
}
// interaction between patrolling enemies and players
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    if (otherSprite.vy != 0) {
        music.setVolume(255)
        music.play(music.melodyPlayable(music.knock), music.PlaybackMode.UntilDone)
        info.changeLifeBy(-1)
        scene.cameraShake(4, 500)
        if (otherSprite.vy != 0) {
            otherSprite.vy = 0
            pause(2000)
            otherSprite.vy = 50
        } else if (otherSprite.vx != 0) {
            otherSprite.vx = 0
            pause(2000)
            otherSprite.vx = 50
        }
    }
})
// Upwards Camera Shot
controller.up.onEvent(ControllerButtonEvent.Released, function () {
    if (controller.A.isPressed()) {
        if (Film_Count > 0) {
            music.setVolume(255)
            music.play(music.createSong(assets.song`Click Sound`), music.PlaybackMode.InBackground)
            projectile = sprites.createProjectileFromSprite(assets.image`Flash Up`, Spr_Player, 0, -200)
            Film_Count += -1
            pause(100)
            sprites.destroy(projectile)
        }
    }
})
function RunLevel () {
    if (Level == 1) {
        DialogueOne()
    }
    if (Level == 2) {
        LVL_11()
    }
    if (Level == 3) {
        PlayerZoo()
    }
}
function E_Patrol () {
    if (Spr_Pat.vy < 0) {
        Spr_Pat.setImage(assets.image`pat_back`)
    } else if (Spr_Pat.vy > 0) {
        Spr_Pat.setImage(assets.image`pat_front`)
    } else if (Spr_Pat.vx > 0) {
        Spr_Pat.setImage(assets.image`pat_right`)
    } else if (Spr_Pat.vx < 0) {
        Spr_Pat.setImage(assets.image`pat_left`)
    }
    if (Spr_Pat2.vy < 0) {
        Spr_Pat2.setImage(assets.image`pat_back`)
    } else if (Spr_Pat2.vy > 0) {
        Spr_Pat2.setImage(assets.image`pat_front`)
    } else if (Spr_Pat2.vx > 0) {
        Spr_Pat2.setImage(assets.image`pat_right`)
    } else if (Spr_Pat2.vx < 0) {
        Spr_Pat2.setImage(assets.image`pat_left`)
    }
}
function RaziDialogue () {
    game.setDialogFrame(assets.image`RatziTextbox`)
    game.setDialogCursor(assets.image`BlackTextArrow`)
    game.setDialogTextColor(15)
}
sprites.onOverlap(SpriteKind.Drone, SpriteKind.Enemy2, function (sprite, otherSprite) {
    music.stopAllSounds()
    Spr_drone.vx = 0
    Spr_drone.vy = 0
    sprites.destroy(Spr_drone, effects.fire, 50)
    music.stopAllSounds()
    scene.cameraShake(4, 500)
    music.setVolume(101)
    music.play(music.melodyPlayable(music.bigCrash), music.PlaybackMode.InBackground)
    pause(1000)
    scene.cameraFollowSprite(Spr_Player)
    controller.moveSprite(Spr_Player)
    music.setVolume(25)
    music.play(music.createSong(assets.song`T1P-T03`), music.PlaybackMode.LoopingInBackground)
    Spr_drone = sprites.create(assets.image`RCCar`, SpriteKind.Drone)
    tiles.placeOnTile(Spr_drone, tiles.getTileLocation(2, 2))
    DroneActive = 0
})
function LVL_11 () {
    pause(2000)
    scene.setBackgroundImage(assets.image`Background`)
    tiles.setCurrentTilemap(tilemap`Lvl1_Rm1`)
    Film_Count = 5
    Item_Name = 0
    info.setScore(0)
    info.setLife(3)
    spriteutils.setLifeImage(assets.image`Little Goobs`)
    Spr_Player = sprites.create(assets.image`pap_front`, SpriteKind.Player)
    scene.cameraFollowSprite(Spr_Player)
    controller.moveSprite(Spr_Player, 100, 100)
    tiles.placeOnTile(Spr_Player, tiles.getTileLocation(10, 53))
    Spr_Film = sprites.create(assets.image`Film`, SpriteKind.Film)
    tiles.placeOnTile(Spr_Film, tiles.getTileLocation(20, 2))
    Spr_Pat = sprites.create(assets.image`pat_front`, SpriteKind.Enemy)
    tiles.placeOnTile(Spr_Pat, tiles.getTileLocation(35, 56))
    Spr_Pat.vy = 50
    Spr_Pat.setBounceOnWall(true)
    Spr_Pat2 = sprites.create(assets.image`pat_front`, SpriteKind.Enemy)
    tiles.placeOnTile(Spr_Pat2, tiles.getTileLocation(37, 50))
    Spr_Pat2.vy = 50
    Spr_Pat2.setBounceOnWall(true)
    Spr_Glas = sprites.create(assets.image`glas_front`, SpriteKind.Enemy2)
    tiles.placeOnTile(Spr_Glas, tiles.getTileLocation(2, 15))
    Spr_Glas.vy = 50
    Spr_Glas.setBounceOnWall(true)
    music.setVolume(25)
    music.play(music.createSong(assets.song`T1P-T03`), music.PlaybackMode.LoopingInBackground)
}
function E_Sunglasses () {
    if (Spr_Glas.vy < 0) {
        Spr_Glas.setImage(assets.image`glas_back`)
    } else if (Spr_Glas.vy > 0) {
        Spr_Glas.setImage(assets.image`glas_front`)
    } else if (Spr_Glas.vx > 0) {
        Spr_Glas.setImage(assets.image`glas_right`)
    } else if (Spr_Glas.vx < 0) {
        Spr_Glas.setImage(assets.image`glas_left`)
    }
}
// Left camera shot
controller.left.onEvent(ControllerButtonEvent.Released, function () {
    if (controller.A.isPressed()) {
        if (Film_Count > 0) {
            music.setVolume(255)
            music.play(music.createSong(assets.song`Click Sound`), music.PlaybackMode.InBackground)
            projectile = sprites.createProjectileFromSprite(assets.image`Flash Left`, Spr_Player, -200, 0)
            Film_Count += -1
            pause(100)
            sprites.destroy(projectile)
        }
    }
})
info.onLifeZero(function () {
    music.stopAllSounds()
    game.setGameOverEffect(false, effects.melt)
    game.setGameOverMessage(false, "YOU FAILED")
    game.setGameOverPlayable(false, music.melodyPlayable(music.bigCrash), false)
    game.gameOver(false)
})
// resets movement once picture is taken
controller.A.onEvent(ControllerButtonEvent.Released, function () {
    controller.moveSprite(Spr_Player, 100, 100)
})
// interaction between patrolling enemies and players
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy2, function (sprite, otherSprite) {
    music.setVolume(255)
    music.play(music.melodyPlayable(music.knock), music.PlaybackMode.UntilDone)
    info.changeLifeBy(-1)
    scene.cameraShake(4, 500)
    if (otherSprite.vy != 0) {
        otherSprite.vy = 0
        pause(2000)
        otherSprite.vy = 50
    } else if (otherSprite.vx != 0) {
        otherSprite.vx = 0
        pause(2000)
        otherSprite.vx = 50
    }
})
// Interaction that allows player to pick up film
sprites.onOverlap(SpriteKind.Player, SpriteKind.Film, function (sprite, otherSprite) {
    Film_Count += 1
    sprites.destroy(Spr_Film)
    Spr_Player.sayText("I've got " + Film_Count + " Film.", 1000, true)
    music.setVolume(111)
    music.play(music.createSong(assets.song`Refill Film`), music.PlaybackMode.UntilDone)
})
// right camera shot
controller.right.onEvent(ControllerButtonEvent.Released, function () {
    if (controller.A.isPressed()) {
        if (Film_Count > 0) {
            music.setVolume(255)
            music.play(music.createSong(assets.song`Click Sound`), music.PlaybackMode.InBackground)
            projectile = sprites.createProjectileFromSprite(assets.image`Flash Right`, Spr_Player, 200, 0)
            Film_Count += -1
            pause(100)
            sprites.destroy(projectile)
        }
    }
})
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    if (DroneActive == 0) {
        DroneActive = 1
        controller.moveSprite(Spr_Player, 0, 0)
        spriteutils.placeAngleFrom(
        Spr_drone,
        0,
        1,
        Spr_Player
        )
        scene.cameraFollowSprite(Spr_drone)
        music.stopAllSounds()
    }
})
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    if (DroneActive == 1) {
        animation.stopAnimation(animation.AnimationTypes.All, Spr_Player)
        Spr_Player.setImage(assets.image`RatzDrone_Down`)
    } else {
        animation.stopAnimation(animation.AnimationTypes.All, Spr_Player)
        Spr_Player.setImage(assets.image`pap_back`)
    }
})
function DialogueOne () {
    music.play(music.createSong(assets.song`Tip Toe Intro`), music.PlaybackMode.LoopingInBackground)
    tiles.setCurrentTilemap(tilemap`Dialogue`)
    scene.setBackgroundImage(img`
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        `)
    Spr_Play_Dialogue = sprites.create(assets.image`pap Dialogue`, SpriteKind.Dialogue)
    tiles.placeOnTile(Spr_Play_Dialogue, tiles.getTileLocation(6, 9))
    Spr_Boss = sprites.create(assets.image`Boss`, SpriteKind.Dialogue)
    tiles.placeOnTile(Spr_Boss, tiles.getTileLocation(12, 9))
    Spr_Camera = sprites.create(assets.image`Camera`, SpriteKind.Dialogue)
    tiles.placeOnTile(Spr_Camera, tiles.getTileLocation(9, 9))
    scene.cameraFollowSprite(Spr_Camera)
    BawsmanDialogue()
    game.showLongText("Ratzi I've got a job for you!", DialogLayout.Bottom)
    RaziDialogue()
    game.showLongText("Mr.Bawsman had walked up to my desk to talk", DialogLayout.Bottom)
    game.showLongText("I knew this could only mean one thing...", DialogLayout.Bottom)
    game.showLongText("he had a job for me...", DialogLayout.Bottom)
    BawsmanDialogue()
    game.showLongText("...", DialogLayout.Bottom)
    game.showLongText("Right...", DialogLayout.Bottom)
    game.showLongText("As you probably already know ", DialogLayout.Bottom)
    game.showLongText("(celebrity) just starred in that new sci-fi movie", DialogLayout.Bottom)
    game.showLongText("He's been caught on the phone during his own premiere once already", DialogLayout.Bottom)
    game.showLongText("So this is prime photo opportunity!", DialogLayout.Bottom)
    RaziDialogue()
    game.showLongText("Bawsman was counting on me to do the job right, I knew I'd have to accept...", DialogLayout.Bottom)
    game.showLongText("...", DialogLayout.Bottom)
    music.stopAllSounds()
    game.showLongText("I accept", DialogLayout.Bottom)
    Level += 1
    sprites.destroy(Spr_Play_Dialogue)
    sprites.destroy(Spr_Boss)
    sprites.destroy(Spr_Camera)
}
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    if (DroneActive == 1) {
        animation.stopAnimation(animation.AnimationTypes.All, Spr_Player)
        Spr_Player.setImage(assets.image`RatzDrone_Left`)
    } else {
        animation.stopAnimation(animation.AnimationTypes.All, Spr_Player)
        animation.runImageAnimation(
        Spr_Player,
        assets.animation`RatziWalk_Left`,
        100,
        true
        )
    }
})
function P_Drone () {
    if (DroneActive == 1) {
        if (controller.left.isPressed()) {
            Spr_drone.setImage(assets.image`Car_Left`)
            music.stopAllSounds()
            Spr_drone.vx = -150
            Spr_drone.vy = 0
            music.setVolume(101)
            music.play(music.createSoundEffect(WaveShape.Noise, 2010, 2010, 102, 102, 9999, SoundExpressionEffect.Vibrato, InterpolationCurve.Curve), music.PlaybackMode.LoopingInBackground)
        } else if (controller.right.isPressed()) {
            Spr_drone.setImage(assets.image`Car_Right`)
            music.stopAllSounds()
            Spr_drone.vx = 150
            Spr_drone.vy = 0
            music.setVolume(101)
            music.play(music.createSoundEffect(WaveShape.Noise, 2010, 2010, 102, 102, 9999, SoundExpressionEffect.Vibrato, InterpolationCurve.Curve), music.PlaybackMode.LoopingInBackground)
        } else if (controller.up.isPressed()) {
            Spr_drone.setImage(assets.image`Car_Up`)
            music.stopAllSounds()
            Spr_drone.vy = -150
            Spr_drone.vx = 0
            music.setVolume(101)
            music.play(music.createSoundEffect(WaveShape.Noise, 2010, 2010, 102, 102, 9999, SoundExpressionEffect.Vibrato, InterpolationCurve.Curve), music.PlaybackMode.LoopingInBackground)
        } else if (controller.down.isPressed()) {
            Spr_drone.setImage(assets.image`Car_Down`)
            music.stopAllSounds()
            Spr_drone.vy = 150
            Spr_drone.vx = 0
            music.setVolume(101)
            music.play(music.createSoundEffect(WaveShape.Noise, 2010, 2010, 102, 102, 9999, SoundExpressionEffect.Vibrato, InterpolationCurve.Curve), music.PlaybackMode.LoopingInBackground)
        }
    }
    if (Spr_drone.isHittingTile(CollisionDirection.Left)) {
        Spr_drone.vx = 0
        Spr_drone.vy = 0
        sprites.destroy(Spr_drone, effects.fire, 100)
        music.stopAllSounds()
        scene.cameraShake(4, 500)
        music.setVolume(101)
        music.play(music.melodyPlayable(music.bigCrash), music.PlaybackMode.UntilDone)
        pause(1000)
        scene.cameraFollowSprite(Spr_Player)
        controller.moveSprite(Spr_Player)
        music.setVolume(25)
        music.play(music.createSong(assets.song`T1P-T03`), music.PlaybackMode.LoopingInBackground)
        Spr_drone = sprites.create(assets.image`Car_Right`, SpriteKind.Drone)
        tiles.placeOnTile(Spr_drone, tiles.getTileLocation(2, 2))
        DroneActive = 0
    } else if (Spr_drone.isHittingTile(CollisionDirection.Right)) {
        Spr_drone.vx = 0
        Spr_drone.vy = 0
        sprites.destroy(Spr_drone, effects.fire, 100)
        music.stopAllSounds()
        scene.cameraShake(4, 500)
        music.setVolume(101)
        music.play(music.melodyPlayable(music.bigCrash), music.PlaybackMode.UntilDone)
        pause(1000)
        scene.cameraFollowSprite(Spr_Player)
        controller.moveSprite(Spr_Player)
        music.setVolume(25)
        music.play(music.createSong(assets.song`T1P-T03`), music.PlaybackMode.LoopingInBackground)
        Spr_drone = sprites.create(assets.image`Car_Right`, SpriteKind.Drone)
        tiles.placeOnTile(Spr_drone, tiles.getTileLocation(2, 2))
        DroneActive = 0
    } else if (Spr_drone.isHittingTile(CollisionDirection.Bottom)) {
        Spr_drone.vx = 0
        Spr_drone.vy = 0
        sprites.destroy(Spr_drone, effects.fire, 100)
        music.stopAllSounds()
        scene.cameraShake(4, 500)
        music.setVolume(101)
        music.play(music.melodyPlayable(music.bigCrash), music.PlaybackMode.UntilDone)
        pause(1000)
        scene.cameraFollowSprite(Spr_Player)
        controller.moveSprite(Spr_Player)
        music.setVolume(25)
        music.play(music.createSong(assets.song`T1P-T03`), music.PlaybackMode.LoopingInBackground)
        Spr_drone = sprites.create(assets.image`Car_Right`, SpriteKind.Drone)
        tiles.placeOnTile(Spr_drone, tiles.getTileLocation(2, 2))
        DroneActive = 0
    } else if (Spr_drone.isHittingTile(CollisionDirection.Top)) {
        Spr_drone.vx = 0
        Spr_drone.vy = 0
        sprites.destroy(Spr_drone, effects.fire, 100)
        music.stopAllSounds()
        scene.cameraShake(4, 500)
        music.setVolume(101)
        music.play(music.melodyPlayable(music.bigCrash), music.PlaybackMode.UntilDone)
        pause(1000)
        scene.cameraFollowSprite(Spr_Player)
        controller.moveSprite(Spr_Player)
        music.setVolume(25)
        music.play(music.createSong(assets.song`T1P-T03`), music.PlaybackMode.LoopingInBackground)
        Spr_drone = sprites.create(assets.image`Car_Right`, SpriteKind.Drone)
        tiles.placeOnTile(Spr_drone, tiles.getTileLocation(2, 2))
        DroneActive = 0
    }
}
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    controller.moveSprite(Spr_Player, 0, 0)
    if (Film_Count <= 0) {
        Spr_Player.sayText("Out of Film", 1000, true)
    } else {
        Spr_Player.sayText("Film: " + Film_Count, 1000, true)
    }
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    if (DroneActive == 1) {
        animation.stopAnimation(animation.AnimationTypes.All, Spr_Player)
        Spr_Player.setImage(assets.image`RatzDrone_Right`)
    } else {
        animation.stopAnimation(animation.AnimationTypes.All, Spr_Player)
        animation.runImageAnimation(
        Spr_Player,
        assets.animation`RatziWalk_Right`,
        100,
        true
        )
    }
})
function BawsmanDialogue () {
    game.setDialogFrame(assets.image`BawsmanTextbox`)
    game.setDialogCursor(assets.image`WhiteTextArrow`)
    game.setDialogTextColor(1)
}
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    if (DroneActive == 1) {
        animation.stopAnimation(animation.AnimationTypes.All, Spr_Player)
        Spr_Player.setImage(assets.image`RatzDrone_Down`)
    } else {
        animation.stopAnimation(animation.AnimationTypes.All, Spr_Player)
        Spr_Player.setImage(assets.image`pap_front`)
    }
})
// interaction between patrolling enemies and camera flash
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Enemy, function (sprite, otherSprite) {
    if (otherSprite.vy != 0) {
        otherSprite.vy = 0
        One_Liner = ["Eat Film!!", "Gotcha!", "Say Cheese!"]
        Spr_Player.sayText(One_Liner._pickRandom(), 1000, true)
        info.changeScoreBy(10)
        music.setVolume(111)
        music.play(music.createSong(assets.song`MY EYES`), music.PlaybackMode.UntilDone)
        pause(3000)
        otherSprite.vy = 50
    } else if (otherSprite.vx > 0) {
        otherSprite.vx = 0
        One_Liner = ["Eat Film!!", "Gotcha!", "Say Cheese!"]
        Spr_Player.sayText(One_Liner._pickRandom(), 1000, true)
        info.changeScoreBy(10)
        music.setVolume(111)
        music.play(music.createSong(assets.song`MY EYES`), music.PlaybackMode.UntilDone)
        pause(3000)
        otherSprite.vx = 50
    }
})
sprites.onOverlap(SpriteKind.Drone, SpriteKind.Enemy, function (sprite, otherSprite) {
    music.stopAllSounds()
    Spr_drone.vx = 0
    Spr_drone.vy = 0
    sprites.destroy(Spr_drone, effects.fire, 50)
    music.stopAllSounds()
    scene.cameraShake(4, 500)
    music.setVolume(101)
    music.play(music.melodyPlayable(music.bigCrash), music.PlaybackMode.InBackground)
    pause(1000)
    scene.cameraFollowSprite(Spr_Player)
    controller.moveSprite(Spr_Player)
    music.setVolume(25)
    music.play(music.createSong(assets.song`T1P-T03`), music.PlaybackMode.LoopingInBackground)
    Spr_drone = sprites.create(assets.image`RCCar`, SpriteKind.Drone)
    tiles.placeOnTile(Spr_drone, tiles.getTileLocation(2, 2))
    DroneActive = 0
})
function PlayerZoo () {
    pause(2000)
    scene.setBackgroundImage(assets.image`Background`)
    tiles.setCurrentTilemap(tilemap`Practice Area`)
    Film_Count = 5
    Item_Name = 0
    info.setScore(0)
    info.setLife(3)
    spriteutils.setLifeImage(assets.image`Little Goobs`)
    Spr_Player = sprites.create(assets.image`pap_front`, SpriteKind.Player)
    scene.cameraFollowSprite(Spr_Player)
    controller.moveSprite(Spr_Player, 100, 100)
    tiles.placeOnTile(Spr_Player, tiles.getTileLocation(2, 2))
    Spr_Film = sprites.create(assets.image`Film`, SpriteKind.Film)
    tiles.placeOnTile(Spr_Film, tiles.getTileLocation(20, 2))
    Spr_Pat = sprites.create(assets.image`pat_front`, SpriteKind.Enemy)
    tiles.placeOnTile(Spr_Pat, tiles.getTileLocation(14, 4))
    Spr_Pat.vy = 50
    Spr_Pat.setBounceOnWall(true)
    Spr_Glas = sprites.create(assets.image`glas_front`, SpriteKind.Enemy2)
    tiles.placeOnTile(Spr_Glas, tiles.getTileLocation(2, 15))
    Spr_Glas.vy = 50
    Spr_Glas.setBounceOnWall(true)
    music.setVolume(25)
    music.play(music.createSong(assets.song`T1P-T03`), music.PlaybackMode.LoopingInBackground)
}
// Downwards Camera Shot
controller.down.onEvent(ControllerButtonEvent.Released, function () {
    if (controller.A.isPressed()) {
        if (Film_Count > 0) {
            music.setVolume(255)
            music.play(music.createSong(assets.song`Click Sound`), music.PlaybackMode.InBackground)
            projectile = sprites.createProjectileFromSprite(assets.image`Flash Down`, Spr_Player, 0, 200)
            Film_Count += -1
            pause(100)
            sprites.destroy(projectile)
        }
    }
})
let Walking = false
let One_Liner: string[] = []
let Spr_Camera: Sprite = null
let Spr_Boss: Sprite = null
let Spr_Play_Dialogue: Sprite = null
let Spr_Glas: Sprite = null
let Spr_Film: Sprite = null
let Item_Name = 0
let Spr_Pat2: Sprite = null
let Spr_Pat: Sprite = null
let Spr_Player: Sprite = null
let projectile: Sprite = null
let Film_Count = 0
let Spr_drone: Sprite = null
let DroneActive = 0
let Level = 0
Level = 2
RunLevel()
DroneActive = 0
Spr_drone = sprites.create(assets.image`Car_Right`, SpriteKind.Drone)
game.onUpdate(function () {
    Walking = controller.up.isPressed() || (controller.down.isPressed() || (controller.left.isPressed() || controller.right.isPressed()))
    if (!(Walking) || DroneActive == 1) {
        animation.stopAnimation(animation.AnimationTypes.All, Spr_Player)
    }
})
forever(function () {
    P_Drone()
    E_Patrol()
    E_Sunglasses()
})
